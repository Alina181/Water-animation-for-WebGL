{"ast":null,"code":"import * as THREE from 'three';\nimport { Water } from 'three/examples/jsm/objects/Water';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { Sky } from 'three/examples/jsm/objects/Sky';\n\n// Сцена и камера\nconst scene = new THREE.Scene();\nconst camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 1, 20000);\ncamera.position.set(30, 30, 100);\n\n// Рендерер\nconst renderer = new THREE.WebGLRenderer();\nrenderer.setSize(window.innerWidth, window.innerHeight);\ndocument.body.appendChild(renderer.domElement);\n\n// Орбитальные управления\nconst controls = new OrbitControls(camera, renderer.domElement);\n\n// Сфера неба\nconst sky = new Sky();\nsky.scale.setScalar(10000);\nscene.add(sky);\n\n// Вода\nconst waterGeometry = new THREE.PlaneGeometry(10000, 10000);\nconst water = new Water(waterGeometry, {\n  textureWidth: 512,\n  textureHeight: 512,\n  waterNormals: new THREE.TextureLoader().load('https://threejs.org/examples/textures/waternormals.jpg', texture => {\n    texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\n  }),\n  alpha: 1.0,\n  sunDirection: new THREE.Vector3(),\n  sunColor: 0xffffff,\n  waterColor: 0x001e0f,\n  distortionScale: 3.7,\n  fog: scene.fog !== undefined\n});\nwater.rotation.x = -Math.PI / 2;\nscene.add(water);\n\n// Освещение\nconst sun = new THREE.Vector3();\nsun.set(100, 100, 100);\nsky.material.uniforms['sunPosition'].value.copy(sun);\nwater.material.uniforms['sunDirection'].value.copy(sun).normalize();\n\n// Анимация\nfunction animate() {\n  requestAnimationFrame(animate);\n  water.material.uniforms['time'].value += 1.0 / 60.0;\n  renderer.render(scene, camera);\n}\nanimate();\n\n// Ресайз окна\nwindow.addEventListener('resize', () => {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n});","map":{"version":3,"names":["THREE","Water","OrbitControls","Sky","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","renderer","WebGLRenderer","setSize","document","body","appendChild","domElement","controls","sky","scale","setScalar","add","waterGeometry","PlaneGeometry","water","textureWidth","textureHeight","waterNormals","TextureLoader","load","texture","wrapS","wrapT","RepeatWrapping","alpha","sunDirection","Vector3","sunColor","waterColor","distortionScale","fog","undefined","rotation","x","Math","PI","sun","material","uniforms","value","copy","normalize","animate","requestAnimationFrame","render","addEventListener","aspect","updateProjectionMatrix"],"sources":["C:/Универ/АИС/Курсач/water-animation/src/index.js"],"sourcesContent":["import * as THREE from 'three';\r\nimport { Water } from 'three/examples/jsm/objects/Water';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { Sky } from 'three/examples/jsm/objects/Sky';\r\n\r\n// Сцена и камера\r\nconst scene = new THREE.Scene();\r\nconst camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 1, 20000);\r\ncamera.position.set(30, 30, 100);\r\n\r\n// Рендерер\r\nconst renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\ndocument.body.appendChild(renderer.domElement);\r\n\r\n// Орбитальные управления\r\nconst controls = new OrbitControls(camera, renderer.domElement);\r\n\r\n// Сфера неба\r\nconst sky = new Sky();\r\nsky.scale.setScalar(10000);\r\nscene.add(sky);\r\n\r\n// Вода\r\nconst waterGeometry = new THREE.PlaneGeometry(10000, 10000);\r\nconst water = new Water(waterGeometry, {\r\n  textureWidth: 512,\r\n  textureHeight: 512,\r\n  waterNormals: new THREE.TextureLoader().load(\r\n    'https://threejs.org/examples/textures/waternormals.jpg',\r\n    texture => {\r\n      texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n    }\r\n  ),\r\n  alpha: 1.0,\r\n  sunDirection: new THREE.Vector3(),\r\n  sunColor: 0xffffff,\r\n  waterColor: 0x001e0f,\r\n  distortionScale: 3.7,\r\n  fog: scene.fog !== undefined\r\n});\r\nwater.rotation.x = -Math.PI / 2;\r\nscene.add(water);\r\n\r\n// Освещение\r\nconst sun = new THREE.Vector3();\r\nsun.set(100, 100, 100);\r\nsky.material.uniforms['sunPosition'].value.copy(sun);\r\nwater.material.uniforms['sunDirection'].value.copy(sun).normalize();\r\n\r\n// Анимация\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n  water.material.uniforms['time'].value += 1.0 / 60.0;\r\n  renderer.render(scene, camera);\r\n}\r\n\r\nanimate();\r\n\r\n// Ресайз окна\r\nwindow.addEventListener('resize', () => {\r\n  camera.aspect = window.innerWidth / window.innerHeight;\r\n  camera.updateProjectionMatrix();\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}