{"ast":null,"code":"import*as THREE from'three';import{Water}from'three/examples/jsm/objects/Water';import{OrbitControls}from'three/examples/jsm/controls/OrbitControls';import{Sky}from'three/examples/jsm/objects/Sky';// Сцена и камера\nconst scene=new THREE.Scene();const camera=new THREE.PerspectiveCamera(55,window.innerWidth/window.innerHeight,1,20000);camera.position.set(30,30,100);// Рендерер\nconst renderer=new THREE.WebGLRenderer();renderer.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(renderer.domElement);// Орбитальные управления\nconst controls=new OrbitControls(camera,renderer.domElement);// Сфера неба\nconst sky=new Sky();sky.scale.setScalar(10000);scene.add(sky);// Вода\nconst waterGeometry=new THREE.PlaneGeometry(10000,10000);const water=new Water(waterGeometry,{textureWidth:512,textureHeight:512,waterNormals:new THREE.TextureLoader().load('https://threejs.org/examples/textures/waternormals.jpg',texture=>{texture.wrapS=texture.wrapT=THREE.RepeatWrapping;}),alpha:1.0,sunDirection:new THREE.Vector3(),sunColor:0xffffff,waterColor:0x001e0f,distortionScale:3.7,fog:scene.fog!==undefined});water.rotation.x=-Math.PI/2;scene.add(water);// Освещение\nconst sun=new THREE.Vector3();sun.set(100,100,100);sky.material.uniforms['sunPosition'].value.copy(sun);water.material.uniforms['sunDirection'].value.copy(sun).normalize();// Анимация\nfunction animate(){requestAnimationFrame(animate);water.material.uniforms['time'].value+=1.0/60.0;renderer.render(scene,camera);}animate();// Ресайз окна\nwindow.addEventListener('resize',()=>{camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight);});","map":{"version":3,"names":["THREE","Water","OrbitControls","Sky","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","position","set","renderer","WebGLRenderer","setSize","document","body","appendChild","domElement","controls","sky","scale","setScalar","add","waterGeometry","PlaneGeometry","water","textureWidth","textureHeight","waterNormals","TextureLoader","load","texture","wrapS","wrapT","RepeatWrapping","alpha","sunDirection","Vector3","sunColor","waterColor","distortionScale","fog","undefined","rotation","x","Math","PI","sun","material","uniforms","value","copy","normalize","animate","requestAnimationFrame","render","addEventListener","aspect","updateProjectionMatrix"],"sources":["C:/Универ/АИС/Курсач/water-animation/src/index.js"],"sourcesContent":["import * as THREE from 'three';\r\nimport { Water } from 'three/examples/jsm/objects/Water';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { Sky } from 'three/examples/jsm/objects/Sky';\r\n\r\n// Сцена и камера\r\nconst scene = new THREE.Scene();\r\nconst camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 1, 20000);\r\ncamera.position.set(30, 30, 100);\r\n\r\n// Рендерер\r\nconst renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\ndocument.body.appendChild(renderer.domElement);\r\n\r\n// Орбитальные управления\r\nconst controls = new OrbitControls(camera, renderer.domElement);\r\n\r\n// Сфера неба\r\nconst sky = new Sky();\r\nsky.scale.setScalar(10000);\r\nscene.add(sky);\r\n\r\n// Вода\r\nconst waterGeometry = new THREE.PlaneGeometry(10000, 10000);\r\nconst water = new Water(waterGeometry, {\r\n  textureWidth: 512,\r\n  textureHeight: 512,\r\n  waterNormals: new THREE.TextureLoader().load(\r\n    'https://threejs.org/examples/textures/waternormals.jpg',\r\n    texture => {\r\n      texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n    }\r\n  ),\r\n  alpha: 1.0,\r\n  sunDirection: new THREE.Vector3(),\r\n  sunColor: 0xffffff,\r\n  waterColor: 0x001e0f,\r\n  distortionScale: 3.7,\r\n  fog: scene.fog !== undefined\r\n});\r\nwater.rotation.x = -Math.PI / 2;\r\nscene.add(water);\r\n\r\n// Освещение\r\nconst sun = new THREE.Vector3();\r\nsun.set(100, 100, 100);\r\nsky.material.uniforms['sunPosition'].value.copy(sun);\r\nwater.material.uniforms['sunDirection'].value.copy(sun).normalize();\r\n\r\n// Анимация\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n  water.material.uniforms['time'].value += 1.0 / 60.0;\r\n  renderer.render(scene, camera);\r\n}\r\n\r\nanimate();\r\n\r\n// Ресайз окна\r\nwindow.addEventListener('resize', () => {\r\n  camera.aspect = window.innerWidth / window.innerHeight;\r\n  camera.updateProjectionMatrix();\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}